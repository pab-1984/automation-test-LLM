# Archivo: tests/suites/ecommerce-suite-corrected.yml

suite: "Funcionalidad Principal de E-commerce"
description: "Pruebas del flujo de compra básico - CORREGIDO"
baseUrl: "http://localhost:3000"
timeout: 15000
mode: "direct"

tests:
  - name: "TC001 - Verificar título y productos"
    mode: "direct"
    steps:
      - action: "navigate"
        url: "${baseUrl}/"
        description: "Ir a la página principal de la tienda"
      
      - action: "waitForSelector"
        selector: "heading"
        timeout: 5000
        description: "Esperar que cargue el título principal"
      
      - action: "verifyElementExists"
        selectors:
          - "heading"
        description: "Verificar que exista el título"
      
      - action: "verifyElementExists"
        selectors:
          - "StaticText"  # Productos
          - "button"      # Botones
        description: "Verificar que existan productos y botones"
      
      - action: "screenshot"
        filename: "tc001-verificacion-basica"
        description: "Capturar estado inicial"
    
    expectedResult: "La página muestra título, productos y botones correctamente"

  - name: "TC002 - Identificar contenido del título"
    mode: "llm"
    steps:
      - action: "navigate"
        url: "${baseUrl}/"
        description: "Ir a la página principal"
      
      - action: "analyzePage"
        description: "Analizar qué texto contiene el título principal"
        intelligent: true
        objective: "Identificar el contenido del heading principal"
      
      - action: "screenshot"
        filename: "tc002-analisis-titulo"
        description: "Capturar análisis del título"
    
    expectedResult: "La IA identifica correctamente el contenido del título"

  - name: "TC003 - Interacción con primer botón disponible"
    mode: "direct"
    steps:
      - action: "navigate"
        url: "${baseUrl}/"
        description: "Ir a la página principal"
      
      - action: "click"
        selector: "button"
        description: "Hacer clic en el primer botón disponible"
        strategy: "first-available"
      
      - action: "waitForSelector"
        selector: "button"
        timeout: 3000
        description: "Esperar que la página responda"
      
      - action: "screenshot"
        filename: "tc003-interaccion-boton"
        description: "Capturar resultado de la interacción"
    
    expectedResult: "Se puede hacer clic en el primer botón disponible"

  - name: "TC004 - Exploración de todos los botones"
    mode: "llm"
    steps:
      - action: "navigate"
        url: "${baseUrl}/"
        description: "Ir a la página principal"
      
      - action: "analyzePage"
        description: "Identificar qué texto tienen los botones disponibles"
        intelligent: true
        objective: "Encontrar botones con texto como 'Add to Cart', 'Cart', etc."
      
      - action: "screenshot"
        filename: "tc004-analisis-botones"
        description: "Capturar análisis de botones"
    
    expectedResult: "La IA identifica correctamente los textos de los botones"
